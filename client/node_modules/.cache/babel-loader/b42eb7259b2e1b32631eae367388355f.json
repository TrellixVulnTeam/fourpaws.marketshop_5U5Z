{"ast":null,"code":"'use strict';\n\nvar _get = require('babel-runtime/helpers/get')['default'];\n\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\n\nvar _createClass = require('babel-runtime/helpers/create-class')['default'];\n\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\n\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDomServer = require('react-dom/server');\n\nvar _reactDomServer2 = _interopRequireDefault(_reactDomServer);\n\nvar _gisMaps = require('2gis-maps');\n\nvar _gisMaps2 = _interopRequireDefault(_gisMaps);\n\nvar _MapComponent2 = require('./MapComponent');\n\nvar _MapComponent3 = _interopRequireDefault(_MapComponent2);\n\nvar Popup = function (_MapComponent) {\n  _inherits(Popup, _MapComponent);\n\n  function Popup() {\n    _classCallCheck(this, Popup);\n\n    _get(Object.getPrototypeOf(Popup.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(Popup, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var popupHtml = this.renderChildren();\n      var element = this.props.element;\n      var dgElement = null; // Popup options.\n\n      var _props = this.props;\n      var maxWidth = _props.maxWidth;\n      var minWidth = _props.minWidth;\n      var maxHeight = _props.maxHeight;\n      var sprawling = _props.sprawling;\n      var className = _props.className;\n      var options = {\n        maxWidth: maxWidth,\n        minWidth: minWidth,\n        maxHeight: maxHeight,\n        sprawling: sprawling,\n        className: className\n      };\n\n      if (this.insideMap()) {\n        dgElement = _gisMaps2['default'].popup(options).setLatLng(this.props.pos).setContent(popupHtml).openOn(element);\n      } else {\n        if (element.getPopup()) {\n          element.setPopupContent(popupHtml);\n        } else {\n          element.bindPopup(popupHtml, options);\n        }\n\n        dgElement = element.getPopup();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var element = this.props.element;\n\n      if (prevProps.children != this.props.children) {\n        var popupHtml = this.renderChildren();\n\n        if (this.insideMap()) {\n          element.getPopup().setContent(popupHtml);\n        } else {\n          element.setPopupContent(popupHtml);\n        }\n      }\n\n      this.updatePos(prevProps);\n\n      if (element.getPopup) {\n        this.updateEvents(element.getPopup());\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.props.element.unbindPopup();\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren() {\n      return _reactDomServer2['default'].renderToString(_react2['default'].createElement('div', {\n        style: {\n          padding: 0,\n          margin: 0,\n          display: 'inline'\n        }\n      }, this.props.children));\n    }\n  }], [{\n    key: 'propsTypes',\n    value: {\n      pos: _react.PropTypes.array,\n      maxWidth: _react.PropTypes.number,\n      minWidth: _react.PropTypes.number,\n      maxHeight: _react.PropTypes.number,\n      sprawling: _react.PropTypes.bool,\n      className: _react.PropTypes.string\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      maxWidth: 300,\n      minWidth: 50,\n      maxHeight: null,\n      sprawling: false,\n      className: ''\n    },\n    enumerable: true\n  }]);\n\n  return Popup;\n}(_MapComponent3['default']);\n\nexports['default'] = Popup;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/macbook/Desktop/ReactJs/dogcat/node_modules/2gis-maps-react/lib/Popup.js"],"names":["_get","require","_inherits","_createClass","_classCallCheck","_interopRequireDefault","Object","defineProperty","exports","value","_react","_react2","_reactDomServer","_reactDomServer2","_gisMaps","_gisMaps2","_MapComponent2","_MapComponent3","Popup","_MapComponent","getPrototypeOf","prototype","apply","arguments","key","componentDidMount","popupHtml","renderChildren","element","props","dgElement","_props","maxWidth","minWidth","maxHeight","sprawling","className","options","insideMap","popup","setLatLng","pos","setContent","openOn","getPopup","setPopupContent","bindPopup","componentDidUpdate","prevProps","prevState","children","updatePos","updateEvents","componentWillUnmount","unbindPopup","renderToString","createElement","style","padding","margin","display","PropTypes","array","number","bool","string","enumerable","module"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _get = require('babel-runtime/helpers/get')['default'];\n\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\n\nvar _createClass = require('babel-runtime/helpers/create-class')['default'];\n\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\n\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDomServer = require('react-dom/server');\n\nvar _reactDomServer2 = _interopRequireDefault(_reactDomServer);\n\nvar _gisMaps = require('2gis-maps');\n\nvar _gisMaps2 = _interopRequireDefault(_gisMaps);\n\nvar _MapComponent2 = require('./MapComponent');\n\nvar _MapComponent3 = _interopRequireDefault(_MapComponent2);\n\nvar Popup = (function (_MapComponent) {\n    _inherits(Popup, _MapComponent);\n\n    function Popup() {\n        _classCallCheck(this, Popup);\n\n        _get(Object.getPrototypeOf(Popup.prototype), 'constructor', this).apply(this, arguments);\n    }\n\n    _createClass(Popup, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var popupHtml = this.renderChildren();\n\n            var element = this.props.element;\n\n            var dgElement = null;\n\n            // Popup options.\n            var _props = this.props;\n            var maxWidth = _props.maxWidth;\n            var minWidth = _props.minWidth;\n            var maxHeight = _props.maxHeight;\n            var sprawling = _props.sprawling;\n            var className = _props.className;\n\n            var options = {\n                maxWidth: maxWidth, minWidth: minWidth, maxHeight: maxHeight, sprawling: sprawling, className: className\n            };\n\n            if (this.insideMap()) {\n                dgElement = _gisMaps2['default'].popup(options).setLatLng(this.props.pos).setContent(popupHtml).openOn(element);\n            } else {\n                if (element.getPopup()) {\n                    element.setPopupContent(popupHtml);\n                } else {\n                    element.bindPopup(popupHtml, options);\n                }\n\n                dgElement = element.getPopup();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            var element = this.props.element;\n\n            if (prevProps.children != this.props.children) {\n                var popupHtml = this.renderChildren();\n\n                if (this.insideMap()) {\n                    element.getPopup().setContent(popupHtml);\n                } else {\n                    element.setPopupContent(popupHtml);\n                }\n            }\n\n            this.updatePos(prevProps);\n\n            if (element.getPopup) {\n                this.updateEvents(element.getPopup());\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.props.element.unbindPopup();\n        }\n    }, {\n        key: 'renderChildren',\n        value: function renderChildren() {\n            return _reactDomServer2['default'].renderToString(_react2['default'].createElement(\n                'div',\n                { style: {\n                        padding: 0,\n                        margin: 0,\n                        display: 'inline'\n                    } },\n                this.props.children\n            ));\n        }\n    }], [{\n        key: 'propsTypes',\n        value: {\n            pos: _react.PropTypes.array,\n            maxWidth: _react.PropTypes.number,\n            minWidth: _react.PropTypes.number,\n            maxHeight: _react.PropTypes.number,\n            sprawling: _react.PropTypes.bool,\n            className: _react.PropTypes.string\n        },\n        enumerable: true\n    }, {\n        key: 'defaultProps',\n        value: {\n            maxWidth: 300,\n            minWidth: 50,\n            maxHeight: null,\n            sprawling: false,\n            className: ''\n        },\n        enumerable: true\n    }]);\n\n    return Popup;\n})(_MapComponent3['default']);\n\nexports['default'] = Popup;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}